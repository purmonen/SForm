function SForm(e){function t(e,t){if(t===undefined){t=document}if(e[0]==="#"){return t.getElementById(e.substring(1))}else if(e[0]==="."){return t.getElementsByClassName(e.substring(1))}else{return t.getElementsByTagName(e)}}function n(e,t,n){if(e.attachEvent){e.attachEvent("on"+t,n)}else{e.addEventListener(t,n,false)}}function r(e,t){e.className=e.className.trim()+" "+t}function i(e,t){var n=e.className;var r=n.search(t);if(r===-1){return}e.className=n.substring(0,r)+n.substring(r+t.length+1)}function s(e,t){var n=new RegExp("\\b"+t+"\\b");return e.className.match(n)?true:false}function f(e){var n=t("#"+e);var r=n.dataset.event;if(r===undefined){r="keyup"}w(n);l(n,r)}function l(e,r){var i;var s;var o=t(".SForm-field",e);n(e,"submit",function(e){for(i=0;i<o.length;i++){if(!c(s)){e.preventDefault()}}});for(i=0;i<o.length;i++){s=o[i];n(s,r,function(e){return function(){c(e)}}(s));var u=t("#"+s.dataset.refers);if(u){n(u,"keyup",function(e,t){return function(){c(e)}}(s,u))}}}function c(e){var t=e.value;var n=e.dataset;var r;g(e);for(r in n){if(!a[r](e)){if(r!=="required"){d(e)}else{h(e)}m(e,r);return false}}p(e);m(e,"success");return true}function h(e){i(e,"SForm-valid");i(e,"SForm-invalid")}function p(e){if(!s(e,"SForm-valid")){r(e,"SForm-valid")}i(e,"SForm-invalid")}function d(e){if(!s(e,"SForm-invalid")){r(e,"SForm-invalid")}i(e,"SForm-valid")}function v(e,n){return t(".SForm-"+n,e.parentNode)[0]}function m(e,t){y(v(e,t))}function g(e){var t;var n;var r=e.dataset;for(n in r){b(v(e,n))}b(v(e,"success"))}function y(e){e.style.display="inline"}function b(e){e.style.display="none"}function w(e){var n;var r;var i;for(n=0;n<o.length;n++){i=t(".SForm-"+o[n],e);for(r=0;r<i.length;r++){b(i[r])}}}var o=["min","max","success","type","refers"];var u={"int":/^([1-9]+\d*|0)$/,"float":/^(0|[1-9]+\d*)(\.\d+)?$/,email:/^\w+@\w+\.\w+$/};var a={required:function(e){return e.value?true:false},type:function(e){var t=e.dataset.type;return e.value.match(u[t])?true:false},min:function(e){return e.dataset.min<=e.value.length},max:function(e){return e.dataset.max>=e.value.length},refers:function(e){var n=t("#"+e.dataset.refers);return e.value===n.value}};f(e)}